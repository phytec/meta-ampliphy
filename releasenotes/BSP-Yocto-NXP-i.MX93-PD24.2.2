Release Notes unified i.MX 91/93 Linux BSP
==========================================

BSP-Yocto-NXP-i.MX93-PD24.2.2          2025-06-30
BSP-Yocto-NXP-i.MX91-PD24.2.2          2025-06-30
=================================================
- Linux NXP Vendor Kernel v6.6.52-2.2.0-phy16 (based on NXP tag lf-6.6.52-2.2.0)
- U-boot v2024.04-2.2.0-phy17 (based on NXP tag lf-6.6.52-2.2.0)
- Yocto 5.0.8 LTS (scarthgap)
- Qt 6.8.1
- RAUC 1.14

Tested Yocto Images:
--------------------
- phytec-headless-image
  * phyboard-nash-imx93-1
  * phyboard-segin-imx93-2
  * phyboard-segin-imx91-1

- phytec-qt6demo-image
  * phyboard-nash-imx93-1
  * phyboard-segin-imx93-2
  * phyboard-segin-imx91-1

Build Environment:
------------------
- Ubuntu 22.04 64-Bit

Features:
---------
- Enabled interrupt for TPM (Trusted Platform Module) chip on phyBOARD-Nash-i.MX93
- Improved signal integrity for WLBT07, CAN1_TX, sdcard of imx91
- Add support for evaluating ARM Ethos-U NPU found on i.MX93 in form of an
  overlay "imx93-phycore-npu.dtbo"
- Removed hard-coded phyid, and let the phy-driver detect the phy automatically
- Enabled FIT image support in u-boot
- Added security features for phyCORE-i.MX 91
- Added bayer2rgbneon gstreamer plugin to improve camera performance

Issues fixed:
-------------
- Fixed chromium build error that occurred since PD24.2.1.
  Build failed with "fatal error: 'algorithm' file not found" or
  "fatal error: 'cmath' file not found".
- Improved PHY startup sequence according to the PHYs specification.
  Using now a gpio instead of the global hardware reset circuit to control the
  PHYs reset. This is to delay the phy reset in the bootup, which is necessary
  to be able to comply with the PHYs specification. For more details, see
  "LPN-692e_0" or kernel git commit
  "a3d89b95f947 FROMLIST: arm64: dts: freescale: imx93-phycore-som: Delay phy reset by a gpio".

  For that "phy-gpio reset handling" we introduced the new PCB revision PL1607.4
  for the phyCORE-i.MX 91/93 (PCL-077) modules.
  - The new BSP release PD24.2.2 must be used on the new PCB revision, as with
    older BSPs ethernet will not work (PHY will just be kept in reset).
  - The new BSP release PD24.2.2 can be used on old PCB revisions, as u-boot
    takes care to disable the phy-gpio reset handling for itself and the kernel.
    Because this logic is contained in the u-boot, consider always to use the
    u-boot of the new BSP release PD24.2.2.
- Disabled 100 MHz and 200 MHz modes for WLBT07, as uSDHC3 supports only
  50 MHz when it is multiplexed on GPIO_IO[27:22] pads.
  For more details see overlay imx93-phyboard-nash-peb-wlbt-07.dtso or kernel git
  commit "arm64: dts: imx93-phyboard-nash: Remove 100 MHz and 200 MHz modes", or
  refer to i.MX 93 Application Processors Data Sheet, Rev. 3, page 60.
- Qt packages qt3d and qtdatavis3d that have been removed from i.MX93 SDK since
  release PD24.1.1 due to build issues have been re-added to the Qt6 SDK.

Known Issues:
-------------
- On phyBOARD-Nash-i.MX 93 carrier-board (rev 1616.0), Audio with PEB-AV-10 A/V
  adapter is broken due to HW bug.
- On phyBOARD-Nash-i.MX 93 carrier-board (rev 1616.0 and rev 1616.1), Backlight
  with PEB-AV-10 A/V adapter is ON by default after power-reset due to HW bug.
- Occasional data loss can be observed when using DMA with i.MX93 UART ports.
  Thus it is recommended to disable DMA as a workaround when using lpuart ports.
  On i.MX91 the issue has not been observed.
- Using the SDK on older host distributions (e.g., Ubuntu 20.04 LTS) with
  Scarthgap NXP-based BSPs can cause issues when building U-Boot or Linux kernel
  tools for host use. If you encounter an "undefined reference" error, a
  workaround is to prepend the host's binutils to the PATH
  (i.e. 'export PATH=/usr/bin:$PATH'). Do this after sourcing the SDK
  "environment-setup" file.

Notes:
------
- With phyBOARD-Nash-i.MX 93 rev 1616.2 the polarity of the SOM Ethernet
  PHY-LEDs has changed from active-low to active-high. This is since the
  PHY-LED pins have also bootstraps functionality:
    (LED0 == RX_DV_En, and LED1 == ANeg_Dis)
  The changed polarity assures that those bootstaps get to the required
  voltage level.
  Since release PD24.2.1 the BSP implements this change of the LED polarity in
  the ethernet drivers of u-boot and Linux kernel.

  Customers using custom carrier board designs are advised to make the same
  change, by adding MOSFETs between ENET2 LED signals and LEDs of RJ45
  connector as in the schematics of the phyBOARD-Nash-i.MX 93 rev 1616.2.

  For those carrier boards that dont have the PHY LEDs polarity change
  (to active-high) one can use the kernels device-tree property
  "ti,leds-polarity". It restores the old kernel behavior of the PHY LEDs
  (active-low). See device-tree for phyBOARD-Segin-i.MX 93
  (imx93-phyboard-segin.dts) as example.
- Due to NXP errata ERR052675:
    "I/O: High frequency operation impacted due voltage
     stress when operating at 3.3V."
  the display pixel clock and camera pixel clock are limited to 52MHz @ 3.3V
  since BSP release PD24.2.1.
  When one of the clocks is configured with more than 52MHz in the device-tree,
  the display driver or camera driver will stop with ERANGE error.
- Occasional system freeze had been observed under certain temperature and load
  conditions. The issue is mitigated by disabling CPU idle management (by
  adding cpuidle.off=1 to kernel command line). NXP has also recommended
  disabling CPU idle management, as especially in extended temperature range
  (e.g. at -40 C) switching off CPUs can have unexpected effects. Please note,
  that by disabling CPU idle management, power consumption of the SOM increases
  (10-50 mW average, 300 mW peak).
